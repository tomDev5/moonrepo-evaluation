language: 'python'
type: 'application'

dependsOn:
  - 'rust-server'

fileGroups:
  sources:
    - 'client/**/*'
    - 'requirements.txt'
  tests:
    - 'tests/**/*'

tasks:
  run:
    command: 'python3 -m client'
    inputs:
      - '@globs(sources)'
      - '@globs(tests)'
    options:
      runInCI: false
  format:
    command: 'black .'
    inputs:
      - '@globs(sources)'
      - '@globs(tests)'
  lint:
    command: 'flake8'
    inputs:
      - '@globs(sources)'
      - '@globs(tests)'
  test:
    command: 'pytest'
    inputs:
      - '@globs(sources)'
      - '@globs(tests)'

